### ğŸ“… 2026-01-02 (Day 22)

#### ğŸ¯ ì˜¤ëŠ˜ì˜ ëª©í‘œ
- [x] ì‚¬ìš©ì ì¸ì¦ ë¡œì§ ë° ê²½ë¡œ ë³´í˜¸ ê°œì„ 
- [ ] ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ì¬ì„¤ì • í™”ë©´ ë° ê¸°ëŠ¥ êµ¬í˜„
- [ ] êµ¬ê¸€ OAuth êµ¬í˜„

#### âœ… ì™„ë£Œí•œ ì‘ì—…
- âœ… ì‚¬ìš©ì ì¸ì¦ ë¡œì§ ë° ê²½ë¡œ ë³´í˜¸ ê°œì„ 


#### ğŸ“ ì‘ì—… ìƒì„¸
- ì „ì—­ ì¸ì¦ ì²´í¬ ê°œì„  (App.tsx)
- ë³´í˜¸ëœ ê²½ë¡œ ë„ì… (ProtectedRoute.tsx & routeList.tsx)

```typescript
interface ProtectedRouteProps {
    children: React.ReactNode;
}

const ProtectedRoute = ({ children }: ProtectedRouteProps) => {
    const { isLoggedIn } = useAuthStore();
    const [isLoading, setIsLoading] = useState(!isLoggedIn);

    useEffect(() => {
        const checkStatus = async () => {
            if (!isLoggedIn) {
                try {
                    const response = await verifyUser();
                    if (response.authenticated) {
                        useAuthStore.setState({
                            isLoggedIn: true,
                            username: response.user.username,
                        });
                    }
                } catch (error) {
                    // ì¸ì¦ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬ ì—†ìŒ (isLoggedInì€ falseë¡œ ìœ ì§€ë¨)
                } finally {
                    setIsLoading(false);
                }
            } else {
                setIsLoading(false);
            }
        };

        checkStatus();
    }, [isLoggedIn]);

    if (isLoading) {
        return <div className="flex h-full w-full items-center justify-center">Loading...</div>; // ë¡œë”© ì²˜ë¦¬ (í•„ìš”ì‹œ ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´)
    }

    if (!isLoggedIn) {
        // ë¡œê·¸ì¸ì´ ì•ˆ ë˜ì–´ ìˆë‹¤ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ë©° ë©”ì‹œì§€ ì „ë‹¬
        return <Navigate to="/login" state={{ message: "ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤." }} replace />;
    }

    return <>{children}</>;
};

export default ProtectedRoute;
```


#### ğŸš¨ ì´ìŠˆ/íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- [ë¬¸ì œë°œìƒ] `App.tsx`ì—ì„œ `useEffect()`ë¡œ `verifyUser` API í˜¸ì¶œ ì‹œ ìœ ì €ê°€ ì²« í™”ë©´ì— ì ‘ì†í•˜ê±°ë‚˜ ë¡œê·¸ì¸ í™”ë©´ ë“± ì‚¬ìš©ì ì¸ì¦ì´ í•„ìš”í•˜ì§€ ì•Šì€ ìˆœê°„ì—ë„ ê³„ì† ì²´í¬ë¥¼ í•´ì„œ ì½˜ì†”ì— 401 (Unauthorized) ì—ëŸ¬ê°€ ëœ¬ë‹¤. ê¸€ì“°ê¸° ì‘ì—… í™”ë©´(/projects)ì„ ë“¤ì–´ê°ˆ ë•Œë§Œ ì‚¬ìš©ì ì¸ì¦ ì²´í¬ë¥¼ í•˜ë„ë¡ í•˜ê³  ì‹¶ì—ˆë‹¤.
- [ì›ì¸íŒŒì•…]
    - ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ë¡œë¶€í„° 4xx ì‘ë‹µì„ ë°›ìœ¼ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬(catch)í•˜ë”ë¼ë„ ë„¤íŠ¸ì›Œí¬ íƒ­ê³¼ ì½˜ì†”ì— ë¬´ì¡°ê±´ ë¹¨ê°„ìƒ‰ ì—ëŸ¬ ë¡œê·¸ë¥¼ ë‚¨ê¸´ë‹¤.
    - `App.tsx`ì—ì„œ ì„¸ì…˜ ìœ ì§€ë¥¼ ìœ„í•´ ì•± êµ¬ë™ ì‹œ ë§¤ë²ˆ `verifyUser`ë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìëŠ” ë‹¹ì—°íˆ 401 ì‘ë‹µì„ ë°›ê²Œ ë˜ë¯€ë¡œ ì´ ì—ëŸ¬ê°€ ì½˜ì†”ì„ ì–´ì§€ëŸ½íŒë‹¤.
- [í•´ê²°ë°©ì•ˆ]
    - **ë°±ì—”ë“œ ìˆ˜ì •**: ì‚¬ìš©ì ì¸ì¦ í™•ì¸(`verify-user`) APIê°€ ì„¸ì…˜ì´ ì—†ì„ ë•Œ 401ì´ ì•„ë‹Œ **200 OK**ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë³€ê²½í•˜ê³ , ì‘ë‹µ ë°ì´í„°ì— `authenticated: false` í”Œë˜ê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤. ì´ë¥¼ í†µí•´ ë¸Œë¼ìš°ì € ìˆ˜ì¤€ì˜ ê°•ì œ ì—ëŸ¬ ë¡œê·¸ë¥¼ ë°©ì§€í–ˆë‹¤.
    - **í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì •**:
        - `App.tsx`ì˜ ì²´í¬ ë¡œì§ì€ ìœ ì§€í•˜ë˜(í—¤ë”ì˜ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ìƒíƒœ ë°˜ì˜ì„ ìœ„í•´), ë°±ì—”ë“œì—ì„œ ì¤€ `authenticated` í”Œë˜ê·¸ë¥¼ í™•ì¸í•˜ì—¬ ìŠ¤í† ì–´ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
        - **`ProtectedRoute` ë„ì…**: ê¸€ì“°ê¸° ë“± ì¸ì¦ì´ í•„ìˆ˜ì¸ íŠ¹ì • ê²½ë¡œëŠ” `ProtectedRoute`ë¡œ ê°ì‹¸ì„œ, ë¡œê·¸ì¸ì´ ì•ˆ ëœ ìƒíƒœì—ì„œ ì ‘ê·¼í•  ê²½ìš°ì—ë§Œ ê²½ê³ ë¥¼ ì£¼ê±°ë‚˜ `/login`ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ë„ë¡ ê°•ì œí–ˆë‹¤.


#### ğŸ’¡ **ê°œë… ì •ë¦¬**
- 

**ì°¸ê³  ë§í¬**:
- 

#### ğŸ“Œ ë‚´ì¼ í•  ì¼
- [ ] ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ì¬ì„¤ì • í™”ë©´ ë° ê¸°ëŠ¥ êµ¬í˜„
- [ ] êµ¬ê¸€ OAuth êµ¬í˜„

#### ğŸ“Œ ë””ë²¨ë¡­ ì‚¬í•­
- [ ] ê¸€ì“°ê¸° ì• ë‹ˆë©”ì´ì…˜
- [ ] ì‚¬ìš©ìì •ì˜ í”„ë¡¬í”„íŠ¸ êµ¬í˜„ 
- [ ] ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ë°±ì—”ë“œ ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
- [ ] ì‘ì„± ê¸€ ë‚´ë³´ë‚´ê¸°
- [ ] ë°°í¬í•˜ê¸°


#### ğŸ“ í”¼ë“œë°± ë‚´ìš©
- ê¸€ì“°ê¸° ì• ë‹ˆë©”ì´ì…˜
    - ìŠ¤íŠ¸ë¦¼ í˜•ì‹ / ì˜ë¼ì„œ ëˆˆì†ì„

- database.ts
    - íƒ€ì… í˜•ì‹ : ì¹´ë©œ - ìŠ¤ë„¤ì´í¬ ë§ì¶”ê¸°

- ai ìƒì„± ì‹œ ìŠ¤í¬ë¡¤ ë§¨ ë°‘ìœ¼ë¡œ ì´ë™í•˜ë„ë¡ êµ¬í˜„


#### ğŸ“Š ì§„í–‰ë¥ 
Week 5: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 85%

---
### ğŸ“… 2026-01-03 (Day 23)

#### ğŸ¯ ì˜¤ëŠ˜ì˜ ëª©í‘œ
- [x] ì‚¬ìš©ì ì¸ì¦ API(verify-user) tanstack queryë¡œ êµ¬í˜„
- [ ] ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ì¬ì„¤ì • í™”ë©´ ë° ê¸°ëŠ¥ êµ¬í˜„
- [ ] êµ¬ê¸€ OAuth êµ¬í˜„

#### âœ… ì™„ë£Œí•œ ì‘ì—…
- âœ… ì‚¬ìš©ì ì¸ì¦ API(verify-user) tanstack queryë¡œ êµ¬í˜„


#### ğŸ“ ì‘ì—… ìƒì„¸
- **`useEffect` ê¸°ë°˜ ì¸ì¦ ë¡œì§ì„ TanStack Query(`useQuery`)ë¡œ ì „í™˜**
    - `App.tsx`ì™€ `ProtectedRoute.tsx`ì— í©ì–´ì ¸ ìˆë˜ ì¸ì¦ í™•ì¸ ë¡œì§ì„ `useAuthQuery` ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë‹¨ì¼í™”
    - `staleTime` ì„¤ì •ì„ í†µí•´ 5ë¶„ê°„ ìºì‹±ì„ ìœ ì§€í•˜ì—¬ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ë°©ì§€
    - ì„œë²„ ìƒíƒœ ê´€ë¦¬ì˜ ì„ ì–¸ì  ì½”ë”© íŒ¨í„´ ë„ì…

```typescript
// [ë³€ê²½ ì „] App.tsx / ProtectedRoute.tsxì—ì„œ ê°œë³„ì ìœ¼ë¡œ useEffect ì‚¬ìš©
useEffect(() => {
    const checkAuth = async () => {
        try {
            const response = await verifyUser();
            if (response.authenticated) {
                useAuthStore.setState({ isLoggedIn: true, username: response.user.username });
            }
        } catch (error) { /* Silent Check */ }
    };
    checkAuth();
}, []);

// [ë³€ê²½ í›„] useAuthQuery ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ìº¡ìŠí™” ë° ê°„ì†Œí™”
// hooks/useAuthQuery.ts
export const useAuthQuery = () => {
    const { storeLogin, storeLogout } = useAuthStore();
    return useQuery({
        queryKey: ["authUser"],
        queryFn: async () => {
            try {
                const response = await verifyUser();
                if (response.authenticated) {
                    storeLogin(response.user.username);
                    return response;
                }
                storeLogout();
                return null;
            } catch (error) {
                storeLogout();
                return null;
            }
        },
        staleTime: 1000 * 60 * 5, // 5ë¶„ ìºì‹±
    });
};

// App.tsx
function App() {
    useAuthQuery(); // í•œ ì¤„ë¡œ ì¸ì¦ ìƒíƒœ í™•ì¸ ë° ì „ì—­ ìŠ¤í† ì–´ ë™ê¸°í™” ì™„ë£Œ
    // ...
}
```


#### ğŸš¨ ì´ìŠˆ/íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- **ì´ìŠˆ**: `useAuthQuery`ë¥¼ ì‚¬ìš©í•˜ëŠ” `App` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `QueryClientProvider`ë¥¼ ì„ ì–¸í•˜ì—¬ `No QueryClient set` ì—ëŸ¬ ë°œìƒ
- **í•´ê²°**: `QueryClientProvider`ë¥¼ `main.tsx`ë¡œ ì´ë™ì‹œì¼œ `App` ì»´í¬ë„ŒíŠ¸ ìƒìœ„ì—ì„œ Contextë¥¼ ì œê³µí•˜ë„ë¡ êµ¬ì¡° ë³€ê²½


#### ğŸ’¡ **ê°œë… ì •ë¦¬**
- **useQuery**: 
    - queryKey : ìºì‹œ(ë°ì´í„°)ë¥¼ êµ¬ë¶„í•˜ëŠ” í‚¤
    - queryFn : ìºì‹œ(ë°ì´í„°)ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
    - staleTime : ìºì‹œ(ë°ì´í„°)ì˜ ìœ íš¨ê¸°ê°„
    - ë¡œë”©(isLoading), ë°ì´í„°(data), ì—ëŸ¬(error) ìƒíƒœëŠ” TanStack Queryê°€ ì•Œì•„ì„œ ê´€ë¦¬
- **Server State vs Client State**: APIë¥¼ í†µí•´ ê°€ì ¸ì˜¤ëŠ” ì¸ì¦ ì •ë³´ëŠ” ì„œë²„ ìƒíƒœì´ë©°, ì´ë¥¼ TanStack Queryë¡œ ê´€ë¦¬í•¨ìœ¼ë¡œì¨ ìºì‹±, ë™ê¸°í™”, ë¡œë”© ìƒíƒœ ì²˜ë¦¬ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìŒ.
- **Declarative Programming**: "ì–´ë–»ê²Œ(How)" ë¡œì§ì„ ìˆ˜í–‰í• ì§€ ëª…ë ¹í•˜ëŠ” ëŒ€ì‹  "ë¬´ì—‡(What)"ì´ í•„ìš”í•œì§€ ì„ ì–¸í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì„.

**ì°¸ê³  ë§í¬**:
- 

#### ğŸ“Œ ë‚´ì¼ í•  ì¼
- [ ] ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ì¬ì„¤ì • í™”ë©´ ë° ê¸°ëŠ¥ êµ¬í˜„
- [ ] êµ¬ê¸€ OAuth êµ¬í˜„

#### ğŸ“Œ ë””ë²¨ë¡­ ì‚¬í•­
- [ ] ê¸€ì“°ê¸° ì• ë‹ˆë©”ì´ì…˜
- [ ] ì‚¬ìš©ìì •ì˜ í”„ë¡¬í”„íŠ¸ êµ¬í˜„ 
- [ ] ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ë°±ì—”ë“œ ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
- [ ] ì‘ì„± ê¸€ ë‚´ë³´ë‚´ê¸°
- [ ] ë°°í¬í•˜ê¸°


#### ğŸ“ í”¼ë“œë°± ë‚´ìš©
- ê¸€ì“°ê¸° ì• ë‹ˆë©”ì´ì…˜
    - ìŠ¤íŠ¸ë¦¼ í˜•ì‹ / ì˜ë¼ì„œ ëˆˆì†ì„

- database.ts
    - íƒ€ì… í˜•ì‹ : ì¹´ë©œ - ìŠ¤ë„¤ì´í¬ ë§ì¶”ê¸°

- ai ìƒì„± ì‹œ ìŠ¤í¬ë¡¤ ë§¨ ë°‘ìœ¼ë¡œ ì´ë™í•˜ë„ë¡ êµ¬í˜„


#### ğŸ“Š ì§„í–‰ë¥ 
Week 5: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 85%

---